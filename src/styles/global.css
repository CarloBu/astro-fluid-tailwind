@import "tailwindcss";

/* ============================================
   FLUID DESIGN SYSTEM - Swiss Style
   Tailwind v4 Pattern
   ============================================ */

@theme {
  /* ----------------------------------------
     SPACING - Fluid scale
     ---------------------------------------- */
  --spacing-fluid-4: clamp(0.25rem, 0.2rem + 0.15vw, 0.5rem);
  --spacing-fluid-8: clamp(0.5rem, 0.4rem + 0.25vw, 0.75rem);
  --spacing-fluid-12: clamp(0.75rem, 0.5rem + 0.5vw, 1.25rem);
  --spacing-fluid-16: clamp(1rem, 0.75rem + 0.75vw, 1.75rem);
  --spacing-fluid-24: clamp(1.5rem, 1rem + 1.25vw, 2.75rem);
  --spacing-fluid-32: clamp(2rem, 1rem + 2.5vw, 4rem);
  --spacing-fluid-48: clamp(3rem, 1.5rem + 4vw, 6rem);
  --spacing-fluid-64: clamp(4rem, 2rem + 5.5vw, 8rem);
  --spacing-fluid-96: clamp(6rem, 3rem + 8vw, 12rem);
  --spacing-fluid-128: clamp(8rem, 4rem + 10vw, 16rem);
  --spacing-fluid-192: clamp(10rem, 5rem + 14vw, 22rem);
  --spacing-gutter: clamp(1rem, 0.75rem + 0.75vw, 2rem);

  /* ----------------------------------------
     RADIUS
     ---------------------------------------- */
  --radius-fluid-sm: clamp(0.25rem, 0.2rem + 0.15vw, 0.5rem);
  --radius-fluid-md: clamp(0.5rem, 0.35rem + 0.35vw, 1rem);
  --radius-fluid-lg: clamp(0.75rem, 0.5rem + 0.5vw, 1.5rem);

  /* ----------------------------------------
     COLORS
     ---------------------------------------- */
  --color-background: #ffffff;
  --color-background-subtle: #f5f5f5;
  --color-background-muted: #ebebeb;
  --color-foreground: #0a0a0a;
  --color-foreground-muted: #525252;
  --color-foreground-subtle: #a3a3a3;
  --color-border: #e5e5e5;
  --color-border-subtle: #f0f0f0;
  --color-accent: #0a0a0a;
}

/* ----------------------------------------
   BASE STYLES
   ---------------------------------------- */

@layer base {
  html {
    font-size: 100%;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    scroll-behavior: smooth;
    scrollbar-gutter: stable;
  }

  body {
    font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", sans-serif;
    font-size: clamp(1rem, 0.9rem + 0.4vw, 1.375rem);
    line-height: 1.5;
    color: var(--color-foreground);
    background-color: var(--color-background);
  }

  ::selection {
    background-color: var(--color-accent);
    color: var(--color-background);
  }

  h1, h2, h3, h4, h5, h6 {
    text-wrap: balance;
  }

  p {
    text-wrap: pretty;
  }
}

/* ----------------------------------------
   TYPOGRAPHY COMPONENTS
   ---------------------------------------- */

@layer components {
  /* Display - Hero: 48px → 144px */
  .text-display {
    font-size: clamp(3rem, 2rem + 8vw, 9rem);
    line-height: 0.9;
    font-weight: 700;
    letter-spacing: -0.03em;
  }

  /* Display SM: 32px → 96px */
  .text-display-sm {
    font-size: clamp(2rem, 1rem + 5vw, 6rem);
    line-height: 0.95;
    font-weight: 700;
    letter-spacing: -0.02em;
  }

  /* H1: 28px → 80px */
  .text-h1 {
    font-size: clamp(1.75rem, 1rem + 4vw, 5rem);
    line-height: 1;
    font-weight: 700;
    letter-spacing: -0.02em;
  }

  /* H2: 24px → 56px */
  .text-h2 {
    font-size: clamp(1.5rem, 0.75rem + 3vw, 3.5rem);
    line-height: 1.05;
    font-weight: 700;
    letter-spacing: -0.02em;
  }

  /* H3: 20px → 36px */
  .text-h3 {
    font-size: clamp(1.25rem, 0.75rem + 2vw, 2.25rem);
    line-height: 1.15;
    font-weight: 600;
    letter-spacing: -0.01em;
  }

  /* H4: 18px → 28px */
  .text-h4 {
    font-size: clamp(1.125rem, 0.875rem + 1vw, 1.75rem);
    line-height: 1.25;
    font-weight: 600;
    letter-spacing: -0.01em;
  }

  /* Body: 16px → 22px */
  .text-body {
    font-size: clamp(1rem, 0.9rem + 0.4vw, 1.375rem);
    line-height: 1.5;
  }

  /* Body SM: 14px → 16px */
  .text-body-sm {
    font-size: clamp(0.875rem, 0.8rem + 0.25vw, 1rem);
    line-height: 1.4;
  }

  /* Label/Caption */
  .label {
    font-size: clamp(0.6875rem, 0.6rem + 0.25vw, 0.875rem);
    line-height: 1.3;
    font-weight: 500;
    letter-spacing: 0.1em;
    text-transform: uppercase;
  }

  /* Stack layouts */
  .stack-xs {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-fluid-8);
  }

  .stack-sm {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-fluid-16);
  }

  .stack-md {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-fluid-24);
  }

  .stack-lg {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-fluid-48);
  }

  .stack-xl {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-fluid-64);
  }
}

/* ----------------------------------------
   UTILITIES
   ---------------------------------------- */

@utility gutter {
  padding-inline: var(--spacing-gutter);
}

@utility section-py {
  padding-block: var(--spacing-fluid-96);
}

@utility section-py-lg {
  padding-block: var(--spacing-fluid-128);
}

@utility section-py-xl {
  padding-block: var(--spacing-fluid-192);
}

@utility link-underline {
  position: relative;

  &::after {
    content: "";
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 1px;
    background-color: currentColor;
    transform: scaleX(0);
    transform-origin: right;
    transition: transform 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  }

  &:hover::after {
    transform: scaleX(1);
    transform-origin: left;
  }
}

/* ----------------------------------------
   MOBILE MENU - Full screen overlay
   ---------------------------------------- */

@layer components {
  /* Menu hamburger icon */
  .menu-icon {
    width: 1.5rem;
    height: 0.75rem;
    position: relative;
  }

  .menu-line {
    position: absolute;
    left: 0;
    width: 100%;
    height: 2px;
    background-color: var(--color-foreground);
    transition: transform 0.4s cubic-bezier(0.19, 1, 0.22, 1),
                top 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  }

  .menu-line-1 {
    top: 0;
  }

  .menu-line-2 {
    top: 100%;
  }

  /* Menu open state - X icon */
  .menu-open .menu-line-1 {
    top: 50%;
    transform: rotate(45deg);
  }

  .menu-open .menu-line-2 {
    top: 50%;
    transform: rotate(-45deg);
  }

  /* Mobile menu overlay */
  .mobile-menu {
    position: fixed;
    inset: 0;
    z-index: 40;
    background-color: var(--color-background);
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.5s cubic-bezier(0.19, 1, 0.22, 1),
                visibility 0.5s cubic-bezier(0.19, 1, 0.22, 1);
  }

  .mobile-menu.is-open {
    opacity: 1;
    visibility: visible;
  }

  .mobile-menu-inner {
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    padding: 6rem 1.5rem 2rem;
  }

  .mobile-menu-nav {
    display: flex;
    flex-direction: column;
    gap: 0;
  }

  .mobile-menu-link {
    display: flex;
    align-items: baseline;
    justify-content: space-between;
    padding: 1rem 0;
    border-bottom: 1px solid var(--color-border);
    opacity: 0;
    transform: translateY(2rem);
    transition: opacity 0.6s cubic-bezier(0.19, 1, 0.22, 1),
                transform 0.6s cubic-bezier(0.19, 1, 0.22, 1),
                color 0.3s ease;
  }

  .mobile-menu-link:first-child {
    border-top: 1px solid var(--color-border);
  }

  .mobile-menu.is-open .mobile-menu-link {
    opacity: 1;
    transform: translateY(0);
  }

  /* Staggered animation delays */
  .mobile-menu.is-open .mobile-menu-link:nth-child(1) { transition-delay: 0.1s; }
  .mobile-menu.is-open .mobile-menu-link:nth-child(2) { transition-delay: 0.15s; }
  .mobile-menu.is-open .mobile-menu-link:nth-child(3) { transition-delay: 0.2s; }
  .mobile-menu.is-open .mobile-menu-link:nth-child(4) { transition-delay: 0.25s; }
  .mobile-menu.is-open .mobile-menu-link:nth-child(5) { transition-delay: 0.3s; }

  .mobile-menu-link-text {
    font-size: clamp(2.5rem, 2rem + 4vw, 5rem);
    font-weight: 700;
    line-height: 1;
    letter-spacing: -0.02em;
    text-transform: uppercase;
    color: var(--color-foreground);
    transition: color 0.3s ease;
  }

  .mobile-menu-link:hover .mobile-menu-link-text {
    color: var(--color-foreground-muted);
  }

  .mobile-menu-link-number {
    font-size: 0.75rem;
    font-weight: 500;
    letter-spacing: 0.1em;
    color: var(--color-foreground-subtle);
  }

  .mobile-menu-footer {
    margin-top: auto;
    padding-top: 2rem;
    opacity: 0;
    transform: translateY(1rem);
    transition: opacity 0.6s cubic-bezier(0.19, 1, 0.22, 1) 0.35s,
                transform 0.6s cubic-bezier(0.19, 1, 0.22, 1) 0.35s;
  }

  .mobile-menu.is-open .mobile-menu-footer {
    opacity: 1;
    transform: translateY(0);
  }
}
